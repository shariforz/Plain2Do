Index: hrm_app/urls.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"\"\"newapp URL Configuration\r\n\r\nThe `urlpatterns` list routes URLs to views. For more information please see:\r\n    https://docs.djangoproject.com/en/3.0/topics/http/urls/\r\nExamples:\r\nFunction views\r\n    1. Add an import:  from my_app import views\r\n    2. Add a URL to urlpatterns:  path('', views.home, name='home')\r\nClass-based views\r\n    1. Add an import:  from other_app.views import Home\r\n    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')\r\nIncluding another URLconf\r\n    1. Import the include() function: from django.urls import include, path\r\n    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))\r\n\"\"\"\r\nfrom django.conf import settings\r\nfrom django.conf.urls.static import static\r\nfrom django.urls import include, path\r\nfrom django.contrib import admin\r\n\r\nurlpatterns = [\r\n    path(\"accounts/\", include(\"django.contrib.auth.urls\")),\r\n    path(\"\", include(\"apps.corecode.urls\")),\r\n    path('admin/', admin.site.urls),\r\n#    path(\"finance/\", include(\"apps.finance.urls\")),\r\n#    path(\"result/\", include(\"apps.result.urls\")),\r\n    path(\"employee/\", include(\"apps.employees.urls\")),\r\n    path(\"doc/\", include(\"apps.docs.urls\")),\r\n]\r\n\r\nif settings.DEBUG:\r\n    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/hrm_app/urls.py b/hrm_app/urls.py
--- a/hrm_app/urls.py	(revision 741d23fffd4a9eb579d743fd339f9cea8e2091c9)
+++ b/hrm_app/urls.py	(date 1711706146464)
@@ -13,21 +13,23 @@
     1. Import the include() function: from django.urls import include, path
     2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
 """
+# from drf_spectacular.views import SpectacularAPIView, SpectacularSwaggerView
 from django.conf import settings
 from django.conf.urls.static import static
 from django.urls import include, path
 from django.contrib import admin
 
 urlpatterns = [
+    path('api/schema/', SpectacularAPIView.as_view(), name='api-schema'),
+    path('api/docs/', SpectacularSwaggerView.as_view(url_name='api-schema'), name='api-docs'),
     path("accounts/", include("django.contrib.auth.urls")),
     path("", include("apps.corecode.urls")),
     path('admin/', admin.site.urls),
-#    path("finance/", include("apps.finance.urls")),
-#    path("result/", include("apps.result.urls")),
+    #    path("finance/", include("apps.finance.urls")),
+    #    path("result/", include("apps.result.urls")),
     path("employee/", include("apps.employees.urls")),
     path("doc/", include("apps.docs.urls")),
 ]
 
 if settings.DEBUG:
     urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
-
Index: hrm_app/settings.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"\"\"\r\nDjango settings for school_app project.\r\n\r\nGenerated by 'django-admin startproject' using Django 3.0.5.\r\n\r\nFor more information on this file, see\r\nhttps://docs.djangoproject.com/en/3.0/topics/settings/\r\n\r\nFor the full list of settings and their values, see\r\nhttps://docs.djangoproject.com/en/3.0/ref/settings/\r\n\"\"\"\r\n\r\nimport os\r\nfrom django.utils.translation import gettext_lazy as _\r\n\r\nfrom dotenv import load_dotenv\r\nimport os\r\nload_dotenv()\r\n\r\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\r\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\r\n\r\n\r\n# Quick-start development settings - unsuitable for production\r\n# See https://docs.djangoproject.com/en/3.0/howto/deployment/checklist/\r\n\r\n# SECURITY WARNING: keep the secret key used in production secret!\r\nSECRET_KEY = os.environ.get('SECRET_KEY')\r\n\r\n# SECURITY WARNING: don't run with debug turned on in production!\r\n# Render Deployment Code\r\nDEBUG = 'RENDER' not in os.environ\r\n\r\nCSRF_TRUSTED_ORIGINS = [\"https://shariforz-hrm-system-6231.twc1.net\", \"http://81.200.146.7\"]\r\n\r\nALLOWED_HOSTS = ['*']\r\n\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    \"django.contrib.admin\",\r\n    \"django.contrib.auth\",\r\n    \"django.contrib.contenttypes\",\r\n    \"django.contrib.sessions\",\r\n    \"django.contrib.messages\",\r\n    \"django.contrib.staticfiles\",\r\n    \"django.contrib.humanize\",\r\n    \"whitenoise.runserver_nostatic\",\r\n    'admin_soft.apps.AdminSoftDashboardConfig', \r\n    \"widget_tweaks\",\r\n    \"apps.corecode\",\r\n #   \"apps.students\",\r\n #   \"apps.staffs\",\r\n #   \"apps.finance\",\r\n #   \"apps.result\",\r\n    \"apps.employees\",\r\n    \"apps.docs\",\r\n]\r\n\r\nMIDDLEWARE = [\r\n    \"django.middleware.security.SecurityMiddleware\",\r\n    \"django.contrib.sessions.middleware.SessionMiddleware\",\r\n    \"django.middleware.locale.LocaleMiddleware\",     # new\r\n    \"django.middleware.common.CommonMiddleware\",\r\n    \"django.middleware.csrf.CsrfViewMiddleware\",\r\n    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\r\n    \"django.contrib.messages.middleware.MessageMiddleware\",\r\n    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\r\n    \"whitenoise.middleware.WhiteNoiseMiddleware\",\r\n    \"apps.corecode.middleware.SiteWideConfigs\",    \r\n]\r\n\r\n#STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'\r\n\r\nROOT_URLCONF = \"hrm_app.urls\"\r\n\r\nTEMPLATES = [\r\n    {\r\n        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\r\n        \"DIRS\": [\r\n            os.path.join(BASE_DIR, \"templates\"),\r\n        ],\r\n        \"APP_DIRS\": True,\r\n        \"OPTIONS\": {\r\n            \"context_processors\": [\r\n                \"django.template.context_processors.debug\",\r\n                \"django.template.context_processors.request\",\r\n                \"django.contrib.auth.context_processors.auth\",\r\n                \"django.contrib.messages.context_processors.messages\",\r\n                \"apps.corecode.context_processors.site_defaults\",\r\n            ],\r\n        },\r\n    },\r\n]\r\n\r\nWSGI_APPLICATION = \"hrm_app.wsgi.application\"\r\n\r\n\r\n# Database\r\n# https://docs.djangoproject.com/en/3.0/ref/settings/#databases\r\n\r\nDB_ENGINE   = os.getenv('DB_ENGINE'   , None)\r\nDB_USERNAME = os.getenv('DB_USERNAME' , None)\r\nDB_PASS     = os.getenv('DB_PASS'     , None)\r\nDB_HOST     = os.getenv('DB_HOST'     , None)\r\nDB_PORT     = os.getenv('DB_PORT'     , None)\r\nDB_NAME     = os.getenv('DB_NAME'     , None)\r\n\r\nif DB_ENGINE and DB_NAME and DB_USERNAME:\r\n    DATABASES = { \r\n      'default': {\r\n        'ENGINE'  : 'django.db.backends.' + DB_ENGINE, \r\n        'NAME'    : DB_NAME,\r\n        'USER'    : DB_USERNAME,\r\n        'PASSWORD': DB_PASS,\r\n        'HOST'    : DB_HOST,\r\n        'PORT'    : DB_PORT,\r\n        }, \r\n    }\r\nelse:\r\n    DATABASES = {\r\n        'default': {\r\n            'ENGINE': 'django.db.backends.sqlite3',\r\n            'NAME': 'db.sqlite3',\r\n        }\r\n    }\r\n\r\n#DATABASES = {\r\n#    \"default\": {\r\n#        \"ENGINE\": \"django.db.backends.sqlite3\",\r\n#        \"NAME\": os.path.join(BASE_DIR, \"db.sqlite3\"),\r\n#    }\r\n#}\r\n\r\n\r\n# Password validation\r\n# https://docs.djangoproject.com/en/3.0/ref/settings/#auth-password-validators\r\n\r\nAUTH_PASSWORD_VALIDATORS = [\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\",\r\n    },\r\n    {\r\n        \"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\",\r\n    },\r\n]\r\n\r\n\r\n# Internationalization\r\n# https://docs.djangoproject.com/en/3.0/topics/i18n/\r\n\r\nLANGUAGES = (\r\n    ('en', _('English')),\r\n    ('ru', _('Russian')),\r\n    ('tr', _('Turkish')),\r\n)\r\n\r\nTIME_ZONE = \"UTC\"\r\n\r\nUSE_I18N = True\r\n\r\nUSE_L10N = True\r\n\r\nUSE_TZ = True\r\n\r\nDATE_INPUT_FORMATS = ['%d.%m.%Y']\r\n\r\nLANGUAGE_CODE = 'ru-RU'\r\n\r\n#LOCALE_PATHS = [\r\n#    BASE_DIR / 'locale/',\r\n#]\r\n\r\n\r\n# Static files (CSS, JavaScript, Images)\r\n# https://docs.djangoproject.com/en/3.0/howto/static-files/\r\n\r\nDATA_UPLOAD_MAX_NUMBER_FIELDS = 10240\r\n\r\nSTATIC_URL = \"/static/\"\r\n\r\n# if DEBUG:\r\n#         STATICFILES_DIRS = [\r\n#             os.path.join(BASE_DIR, 'static')\r\n#        ]\r\n# else:\r\n#         STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\r\n\r\n\r\nMEDIA_ROOT = os.path.join(BASE_DIR, \"media\").replace('\\\\', '/')\r\n\r\nMEDIA_URL = \"/media/\"\r\n\r\n\r\nLOGIN_REDIRECT_URL = \"/\"\r\n# EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\r\nEMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'\r\n\r\nLOGOUT_REDIRECT_URL = \"/\"\r\n\r\n\r\nSESSION_SAVE_EVERY_REQUEST = True\r\n\r\nSESSION_EXPIRE_AT_BROWSER_CLOSE = True\r\n\r\nSESSION_COOKIE_AGE = 10800\r\n\r\n\r\nLOGGING = {\r\n    \"version\": 1,\r\n    \"disable_existing_loggers\": False,\r\n    \"formatters\": {\r\n        \"verbose\": {\r\n            \"format\": \"{levelname} {asctime} {message}\",\r\n            \"style\": \"{\",\r\n        },\r\n    },\r\n    \"handlers\": {\r\n        \"file\": {\r\n            \"level\": \"INFO\",\r\n            \"class\": \"logging.handlers.TimedRotatingFileHandler\",\r\n            \"when\": \"W6\",\r\n            \"interval\": 4,\r\n            \"backupCount\": 3,\r\n            \"encoding\": \"utf8\",\r\n            \"filename\": os.path.join(BASE_DIR, \"debug.log\"),\r\n            \"formatter\": \"verbose\",\r\n        },\r\n    },\r\n    \"loggers\": {\r\n        \"django\": {\r\n            \"handlers\": [\"file\"],\r\n            \"level\": \"INFO\",\r\n            \"propagate\": True,\r\n        },\r\n    },\r\n}\r\n\r\nDEFAULT_AUTO_FIELD = \"django.db.models.AutoField\"\r\n\r\n# Site Default values\r\nimport os\r\nSTATIC_URL = 'static/'\r\nSTATICFILES_DIRS = os.path.join(BASE_DIR, 'static'),\r\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles_build', 'static')
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/hrm_app/settings.py b/hrm_app/settings.py
--- a/hrm_app/settings.py	(revision 741d23fffd4a9eb579d743fd339f9cea8e2091c9)
+++ b/hrm_app/settings.py	(date 1711705963087)
@@ -13,9 +13,9 @@
 import os
 from django.utils.translation import gettext_lazy as _
 
-from dotenv import load_dotenv
+# from dotenv import load_dotenv
 import os
-load_dotenv()
+# load_dotenv()
 
 # Build paths inside the project like this: os.path.join(BASE_DIR, ...)
 BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
@@ -25,12 +25,11 @@
 # See https://docs.djangoproject.com/en/3.0/howto/deployment/checklist/
 
 # SECURITY WARNING: keep the secret key used in production secret!
-SECRET_KEY = os.environ.get('SECRET_KEY')
-
+# SECRET_KEY = os.environ.get('SECRET_KEY')
+SECRET_KEY = 'qwewqe'
 # SECURITY WARNING: don't run with debug turned on in production!
 # Render Deployment Code
 DEBUG = 'RENDER' not in os.environ
-
 CSRF_TRUSTED_ORIGINS = ["https://shariforz-hrm-system-6231.twc1.net", "http://81.200.146.7"]
 
 ALLOWED_HOSTS = ['*']
@@ -56,6 +55,8 @@
  #   "apps.result",
     "apps.employees",
     "apps.docs",
+    'drf_spectacular',
+    'rest_framework'
 ]
 
 MIDDLEWARE = [
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"34203847-71db-49f7-89af-ff9e39d03f17\" name=\"Default Changelist\" comment=\"\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2duUpz7qSl2CqDZVEc8t20t9a2E\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"HRM-system\" type=\"Python.DjangoServer\" factoryName=\"Django server\">\r\n      <module name=\"HRM-system\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"launchJavascriptDebuger\" value=\"false\" />\r\n      <option name=\"port\" value=\"8000\" />\r\n      <option name=\"host\" value=\"\" />\r\n      <option name=\"additionalOptions\" value=\"\" />\r\n      <option name=\"browserUrl\" value=\"\" />\r\n      <option name=\"runTestServer\" value=\"false\" />\r\n      <option name=\"runNoReload\" value=\"false\" />\r\n      <option name=\"useCustomRunCommand\" value=\"false\" />\r\n      <option name=\"customRunCommand\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"34203847-71db-49f7-89af-ff9e39d03f17\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1710857652894</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1710857652894</updated>\r\n      <workItem from=\"1710857659749\" duration=\"3720000\" />\r\n      <workItem from=\"1710880146673\" duration=\"670000\" />\r\n      <workItem from=\"1710921241075\" duration=\"379000\" />\r\n      <workItem from=\"1711087297015\" duration=\"902000\" />\r\n      <workItem from=\"1711133938810\" duration=\"953000\" />\r\n      <workItem from=\"1711176427203\" duration=\"263000\" />\r\n      <workItem from=\"1711177327837\" duration=\"584000\" />\r\n      <workItem from=\"1711295019831\" duration=\"3176000\" />\r\n      <workItem from=\"1711347415487\" duration=\"535000\" />\r\n      <workItem from=\"1711552286257\" duration=\"1960000\" />\r\n      <workItem from=\"1711570409775\" duration=\"4181000\" />\r\n      <workItem from=\"1711641044384\" duration=\"11442000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 741d23fffd4a9eb579d743fd339f9cea8e2091c9)
+++ b/.idea/workspace.xml	(date 1711706036295)
@@ -1,7 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ChangeListManager">
-    <list default="true" id="34203847-71db-49f7-89af-ff9e39d03f17" name="Default Changelist" comment="" />
+    <list default="true" id="34203847-71db-49f7-89af-ff9e39d03f17" name="Default Changelist" comment="">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/hrm_app/settings.py" beforeDir="false" afterPath="$PROJECT_DIR$/hrm_app/settings.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/hrm_app/urls.py" beforeDir="false" afterPath="$PROJECT_DIR$/hrm_app/urls.py" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -75,6 +79,9 @@
       <workItem from="1711552286257" duration="1960000" />
       <workItem from="1711570409775" duration="4181000" />
       <workItem from="1711641044384" duration="11442000" />
+      <workItem from="1711704658279" duration="313000" />
+      <workItem from="1711704995242" duration="90000" />
+      <workItem from="1711705107361" duration="923000" />
     </task>
     <servers />
   </component>
